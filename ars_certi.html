<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Payment Connection</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <script src="./assets/js/jquery-3.5.1.js"></script>
  <script src="./assets/js/jquery3.5.1.min.js"></script>
  <script src="./assets/js/main.js"></script>
  <link rel="stylesheet" href="assets/css/home.css">
</head>

<body class="h100p">
<div class="page-body">
  <div class="page-container">
    <div class="body-h100">
      <!--  헤더    -->
      <header class="sticky-top">
        <div class="pr16 pl16 h52 flex-space">
          <div class="justify-left">
            <div class="arc_back justify-left">
              <img src="assets/images/back_20.svg" class="img20 mouse-cursor" alt=""/>
            </div>
            <span class="pl8 font-noto500 font20 col-77">계좌연결</span>
          </div>
          <div class="arc_back justify-right">
            <img src="assets/images/close_20.svg" class="img20 mouse-cursor" alt=""/>
          </div>
        </div>
        <div class="stick2">
          <div class="progress-stick" style="width: 50%;"></div>
        </div>
      </header>

      <section class="pt24 pr16 pb32 pl16 h52-remain bg-f5">
        <div class="font16 col-00">
          <span class="font-noto400">ARS 인증하기 버튼을 누르고 전화를 받아서 안내되는 </span>
          <span class="font-noto700">인증번호를 입력해 주세요. </span>
        </div>

        <div class="pt24">
          <div class="src-certi pr16 pb16 pl16 flex-column">
            <div class="pt16 font-noto300 font13 col-42">휴대폰 번호</div>
            <div class="pt6 font-poppins txt-bold font20 col-00">010-1234-5678</div>
            <div class="mt16 border-bottom-f5"></div>
            <div id="btn_ars" class="mt16 btn-arc font-noto700 font16 col-f5 mouse-cursor">ARS 인증하기</div>
          </div>
          <div class="src-certi mt16 pt16 pr16 pb16 pl16">
            <div class="flex-common">
              <div class="w22">
                <img src="assets/images/warning.svg" class="img16" alt=""/>
              </div>
              <div class="w22-remain font-noto400 font12 letter06">
                <span class="col-00">안전한 금융 거래를 위해서 인증번호는 </span>
                <span class="pl2 txt-bold col-red text-underline"> 다른사람에게 절대 공유하지 말아주세요.</span>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>

  <!-- 오류 팝업 표시 -->
  <div class="modal-body hide">
    <div class="modal-content animate-zoom modal-h213">
      <div class="h44-remain flex-column">
        <div class="font-noto500 font15 col-00">ARS 인증에 실패하였습니다.</div>
        <div class="pt5 font-noto500 font15 col-00">다시 시도해 주세요.</div>
      </div>
      <div id="error_modal_close" class="h44 btn-modal-ok font-noto700 font16 col-49 mouse-cursor">
        확인
      </div>
    </div>
  </div>
</div>

<script>
  /**
   * 패스로부터 선택된 계좌 인덱스 얻어내기
   */
  let urlParams = new URLSearchParams(window.location.search);
  let accountIndex = urlParams.get("accountIndex");

  /**
   * back 또는 close버튼 클릭시
   */
  $("div.arc_back").on('click', function () {
    if (accountIndex) {
      window.location.href = './input_account_no.html?accountIndex=' + accountIndex;
    }
  });

  /** 다음 버튼 클릭시 **/
  $('#btn_ars').click(function () {
    $("div.modal-body").removeClass('hide');
  });

  /** 확인 버튼 클릭시 **/
  $('#error_modal_close').click(function () {
    $("div.modal-body").addClass('hide');

    /** 페이지 확인을 위해 확인 버튼 클릭하면 인증완료 페이지로 이동시켰음 **/
    window.location.href = 'ars_certi_complete.html?accountIndex=' + accountIndex;
  });

</script>
</body>
</html>